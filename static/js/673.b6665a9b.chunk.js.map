{"version":3,"file":"static/js/673.b6665a9b.chunk.js","mappings":"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","sources":["webpack://dashboard_test/./src/components/Button/button.module.scss?3bf9","components/Button/index.tsx","webpack://dashboard_test/./src/components/Title/title.module.scss?2fa4","components/Title/index.tsx","webpack://dashboard_test/./src/components/Header/header.module.scss?9a40","components/Header/index.tsx","webpack://dashboard_test/./src/components/ListItem/listItem.module.scss?82ce","components/ListItem/index.tsx","webpack://dashboard_test/./src/components/List/list.module.scss?2a47","components/List/index.tsx","containers/ListContainer/index.tsx","pages/ListPage/index.tsx","stores/dashboardStore.ts","services/api.ts","stores/listStore.ts","stores/rootStore.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"button\":\"button_button__zpxkc\"};","import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { IButtonProps } from \"./interface\";\nimport styles from \"./button.module.scss\";\n\nconst Button: React.FC<IButtonProps> = ({ title, to }) => {\n  const navigate = useNavigate();\n\n  return (\n    <button\n      onClick={() => navigate(to)}\n      className={styles.button}\n      data-testid=\"button-component\"\n    >\n      {title}\n    </button>\n  );\n};\n\nexport default Button;\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"title_title__CL1FB\"};","import React from \"react\";\nimport { ITitle } from \"./interface\";\nimport styles from \"./title.module.scss\";\n\nconst Title: React.FC<ITitle> = ({ title }) => {\n  return (\n    <h1 className={styles.title} data-testid=\"title-component\">\n      {title}\n    </h1>\n  );\n};\n\nexport default Title;\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"header_header__A7NEZ\"};","import React from \"react\";\nimport { IHeaderProps } from \"./interface\";\nimport Button from \"components/Button\";\nimport Title from \"components/Title\";\nimport styles from \"./header.module.scss\";\n\nconst Header: React.FC<IHeaderProps> = ({ buttonTitle, title, to }) => {\n  return (\n    <header className={styles.header}>\n      <Title title={title} />\n      <Button to={to} title={buttonTitle} />\n    </header>\n  );\n};\n\nexport default Header;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"listItem_wrapper__TClpf\",\"row1\":\"listItem_row1__e8JLx\",\"row2\":\"listItem_row2__x91zB\",\"title\":\"listItem_title__dYjlk\",\"button\":\"listItem_button__w83fL\",\"button__isFavorite\":\"listItem_button__isFavorite__TibtD\",\"text\":\"listItem_text__S2pW8\"};","import React from \"react\";\nimport { IListItemProps } from \"./interface\";\nimport styles from \"./listItem.module.scss\";\n\nconst ListItem: React.FC<IListItemProps> = ({ item, toggleFavorite }) => {\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.row1}>\n        <h5 className={styles.title}>{item.id}</h5>\n        {toggleFavorite && (\n          <button\n            onClick={() => toggleFavorite(item.id)}\n            className={`${styles.button} ${\n              item.isFavorite ? styles.button__isFavorite : \"\"\n            }`}\n          >\n            {item.isFavorite ? \"Удалить из избранного\" : \"Добавить в избранное\"}\n          </button>\n        )}\n      </div>\n      <div className={styles.row2}>\n        <img src={item.thumbnailUrl} alt={item.title} />\n        <p className={styles.text}>{item.title}</p>{\" \"}\n      </div>\n    </div>\n  );\n};\n\nexport default ListItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"list_list__UTbzE\",\"text\":\"list_text__9omBh\"};","import React from \"react\";\nimport ListItem from \"components/ListItem\";\nimport { IListProps } from \"./interface\";\nimport styles from \"./list.module.scss\";\n\nconst List: React.FC<IListProps> = ({\n  listItems,\n  isLoading,\n  isError,\n  toggleFavorite,\n  forwardedRef\n}) => {\n  return (\n    <div\n      className={styles.list}\n      ref={forwardedRef}\n      data-testid=\"list-container\"\n    >\n      {Object.values(listItems).map((item) => (\n        <ListItem key={item.id} item={item} toggleFavorite={toggleFavorite} />\n      ))}\n      {isLoading && <p className={styles.text}>Загрузка...</p>}\n      {isError && (\n        <p className={styles.text}>\n          Упс! Что-то пошло не так. Пожалуйста, обновите страницу.\n        </p>\n      )}\n    </div>\n  );\n};\n\nexport default List;\n","import React, { useEffect, useRef } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { useStores } from \"stores/rootStore\";\nimport List from \"components/List\";\n\nconst ListContainer: React.FC = () => {\n  const { listItems, isLoading, isError, loadListItems, toggleFavorite, page } =\n    useStores().listStore;\n\n  const listRef = useRef<HTMLDivElement | null>(null);\n\n  const handleScroll = () => {\n    if (isLoading || !listRef.current) return;\n\n    const listElement = listRef.current;\n    const isScrolledToBottom =\n      listElement.scrollTop + listElement.clientHeight >=\n      listElement.scrollHeight - 10;\n\n    if (isScrolledToBottom && page <= 5) {\n      loadListItems();\n    }\n  };\n\n  useEffect(() => {\n    if (listRef.current) {\n      listRef.current.addEventListener(\"scroll\", handleScroll);\n      return () => {\n        listRef.current?.removeEventListener(\"scroll\", handleScroll);\n      };\n    }\n  }, [isLoading, loadListItems]);\n\n  useEffect(() => {\n    if (page <= 5) loadListItems();\n  }, []);\n\n  return (\n    <List\n      listItems={listItems}\n      isLoading={isLoading}\n      isError={isError}\n      toggleFavorite={toggleFavorite}\n      forwardedRef={listRef}\n    />\n  );\n};\n\nexport default observer(ListContainer);\n","import React from \"react\";\nimport ListContainer from \"containers/ListContainer\";\nimport Header from \"components/Header\";\n\nconst ListPage: React.FC = () => {\n  return (\n    <>\n      <Header title=\"Список элементов\" buttonTitle=\"Вернуться назад\" to=\"/\" />\n      <ListContainer />\n    </>\n  );\n};\n\nexport default ListPage;\n","import { makeAutoObservable } from \"mobx\";\nimport { RootStore } from \"./rootStore\";\nclass DashboardStore {\n  rootStore: RootStore;\n\n  favoriteItems: number[] = [];\n  totalFileSize: number = 0;\n\n  constructor(rootStore: RootStore) {\n    this.rootStore = rootStore;\n    makeAutoObservable(this);\n  }\n\n  calculateTotalFileSize = (newFavoriteItems: number[]) => {\n    this.totalFileSize = 0;\n    newFavoriteItems.forEach(\n      (item) =>\n        (this.totalFileSize += this.rootStore.listStore.listItems[item].size)\n    );\n  };\n\n  addNewFavoriteItem = (id: number) => {\n    this.favoriteItems.push(id);\n    this.calculateTotalFileSize(this.favoriteItems);\n  };\n\n  removeFavoriteItem = (id: number) => {\n    const newFavoriteItems = this.favoriteItems.filter(\n      (number) => number !== id\n    );\n    this.favoriteItems = newFavoriteItems;\n    this.calculateTotalFileSize(newFavoriteItems);\n  };\n\n  updateFavorites = (favorites: number[]) => {\n    this.favoriteItems = favorites;\n  };\n}\n\nexport { DashboardStore };\n","import { IListItems } from \"interfaces/ListItems\";\nimport { IListItem } from \"interfaces/ListItem\";\n\nexport async function fetchListItems(\n  page: number,\n  limit: number\n): Promise<IListItems> {\n  try {\n    const response = await fetch(\n      `https://jsonplaceholder.typicode.com/albums/1/photos?_page=${page}&_limit=${limit}`\n    );\n    const data = await response.json();\n\n    const getImageSize = async (url: string) => {\n      try {\n        const proxyUrl = \"https://cors-anywhere.herokuapp.com/\";\n        const imageResponse = await fetch(proxyUrl + url);\n\n        const blob = await imageResponse.blob();\n        const sizeInMB = blob.size / (1024 * 1024);\n        return sizeInMB;\n      } catch (error) {\n        return 0;\n      }\n    };\n\n    const itemsWithSize: IListItems = {};\n\n    await Promise.all(\n      data.map(async (item: IListItem) => {\n        const sizeInMB = await getImageSize(item.thumbnailUrl);\n        itemsWithSize[item.id] = {\n          id: item.id,\n          title: item.title,\n          thumbnailUrl: item.thumbnailUrl,\n          isFavorite: false,\n          size: sizeInMB\n        };\n      })\n    );\n\n    return itemsWithSize;\n  } catch (error) {\n    throw error;\n  }\n}\n","import { makeAutoObservable } from \"mobx\";\nimport { RootStore } from \"./rootStore\";\nimport { fetchListItems } from \"services/api\";\nimport { IListItems } from \"interfaces/ListItems\";\n\nclass ListStore {\n  rootStore: RootStore;\n\n  listItems: IListItems = {};\n  isLoading: boolean = false;\n  isError: boolean = false;\n  page: number = 1;\n  limit: number = 20;\n\n  constructor(rootStore: RootStore) {\n    this.rootStore = rootStore;\n    makeAutoObservable(this);\n  }\n\n  updateListItems(newItems: IListItems) {\n    this.listItems = newItems;\n  }\n\n  setIsLoading(value: boolean) {\n    this.isLoading = value;\n  }\n\n  setIsError(value: boolean) {\n    this.isError = value;\n  }\n\n  setPage(value: number) {\n    this.page = value;\n  }\n\n  loadListItems = async () => {\n    try {\n      if (this.isLoading) return;\n      this.setIsLoading(true);\n      const newItems: IListItems = await fetchListItems(this.page, this.limit);\n      this.updateListItems({ ...this.listItems, ...newItems });\n      this.setPage(this.page + 1);\n      this.setIsLoading(false);\n    } catch (error) {\n      this.setIsError(true);\n      this.setIsLoading(false);\n    }\n  };\n\n  toggleFavorite = (itemId: number) => {\n    const newListItems = { ...this.listItems };\n    newListItems[itemId] = {\n      ...this.listItems[itemId],\n      isFavorite: !this.listItems[itemId].isFavorite\n    };\n    this.updateListItems(newListItems);\n\n    if (newListItems[itemId].isFavorite) {\n      this.rootStore.dashboardStore.addNewFavoriteItem(itemId);\n    } else this.rootStore.dashboardStore.removeFavoriteItem(itemId);\n  };\n}\n\nexport { ListStore };\n","import { createContext, useContext } from \"react\";\nimport { DashboardStore } from \"./dashboardStore\";\nimport { ListStore } from \"./listStore\";\n\nexport class RootStore {\n  dashboardStore: DashboardStore;\n  listStore: ListStore;\n\n  constructor() {\n    this.dashboardStore = new DashboardStore(this);\n    this.listStore = new ListStore(this);\n  }\n}\n\nconst RootStoreContext = createContext<RootStore>(new RootStore());\n\nexport const useStores = () => useContext(RootStoreContext);\n"],"names":["_ref","title","to","navigate","useNavigate","_jsx","onClick","className","styles","children","buttonTitle","_jsxs","Title","Button","item","toggleFavorite","id","concat","isFavorite","src","thumbnailUrl","alt","listItems","isLoading","isError","forwardedRef","ref","Object","values","map","ListItem","observer","_useStores$listStore","useStores","listStore","loadListItems","page","listRef","useRef","handleScroll","current","listElement","scrollTop","clientHeight","scrollHeight","useEffect","addEventListener","_listRef$current","removeEventListener","List","_Fragment","Header","ListContainer","DashboardStore","_createClass","rootStore","_this","_classCallCheck","favoriteItems","totalFileSize","calculateTotalFileSize","newFavoriteItems","forEach","size","addNewFavoriteItem","push","removeFavoriteItem","filter","number","updateFavorites","favorites","this","makeAutoObservable","fetchListItems","_x","_x2","_fetchListItems","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee3","limit","response","data","getImageSize","itemsWithSize","wrap","_context3","prev","next","fetch","sent","json","_callee","url","imageResponse","blob","sizeInMB","_context","abrupt","t0","stop","_x3","Promise","all","_ref2","_callee2","_context2","_x4","ListStore","newItems","setIsLoading","updateListItems","_objectSpread","setPage","setIsError","itemId","newListItems","dashboardStore","key","value","RootStore","RootStoreContext","createContext","useContext"],"sourceRoot":""}